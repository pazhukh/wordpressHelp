

//add defer atribut to the scripts
// input after function theme_name_scripts() {}

function my_defer_scripts( $tag, $handle, $src ) {
    // the handles of the enqueued scripts we want to defer
    $async_scripts = array( 'query', 'boot', 'slider', 'lightgal', 'wow', 'googleMaps', 'script' );//name of scripts

    if ( in_array( $handle, $async_scripts ) ) {
        return '<script defer src="' . $src . '"></script>' . "\n";
    }

    return $tag;
}
add_filter( 'script_loader_tag', 'my_defer_scripts', 10, 3 );
